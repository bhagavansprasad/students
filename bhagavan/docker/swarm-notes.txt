
How to Setup and Configure Docker Swarm Cluster
	http://devopscube.com/how-to-setup-and-configure-docker-swarm-cluster/

Build
docker build -t tcp-echo ./

consul IP : 172.17.0.2

manager1: 192.168.1.2
manager2: 192.168.1.3

docker run -d -p 192.168.1.2:4000:4000 swarm manage -H :4000 --replication --advertise 192.168.1.2:4000 consul://192.168.0.2:8500
docker run -d -p 192.168.1.3:4000:4000 swarm manage -H :4000 --replication --advertise 192.168.1.3:4000 consul://192.168.0.2:8500

docker run -d -p 192.168.0.3:4000:4000 swarm manage -H :4000 --replication --advertise 192.168.0.3:4000 consul://192.168.0.2:8500
docker run -d -p 192.168.0.4:4000:4000 swarm manage -H :4000 --replication --advertise 192.168.0.4:4000 consul://192.168.0.2:8500



sudo service docker stop
sudo docker daemon -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock &
sudo docker info
sudo netstat -alnp  | grep -i docker
sudo docker  -H tcp://10.0.2.15:2375 run --rm swarm create --> 7c5f7b2c7f5a83dc9a9eae79298cc6bf
docker -H tcp://10.0.2.15:2375 run -d swarm join --addr=10.0.2.15:2375 token:7c5f7b2c7f5a83dc9a9eae79298cc6bf
sudo docker -H tcp://10.0.2.15:2375 ps
sudo docker -H tcp://10.0.2.15:2375 run -d -p 5001:2375 swarm manage token://7c5f7b2c7f5a83dc9a9eae79298cc6bf
sudo docker -H tcp://10.0.2.15:2375 run --rm swarm list \ token://7c5f7b2c7f5a83dc9a9eae79298cc6bf
sudo docker -H tcp://10.0.2.15:5001 info

docker tag tcp-echo auranetworks/tcp-echo
docker tag -f 497f53829140 auranetworks/tcp-echo:latest
docker ps
docker commit -p  78727078a04b  container1
docker login
docker push container1
docker save -o ~/container1.tar container1
docker save -o ~/container-backup.tar container-backup

